Extract data from L01
================

``` r
library(rvest)
library(dplyr, warn.conflicts = FALSE)

dir.create(here::here("data", "attrs"), recursive = TRUE, showWarnings = FALSE)
```

### `L01`

``` r
input <- here::here("data-raw", "datalist", "KsjTmplt-L01-v2_5.html")
id <- stringr::str_replace(basename(input), "(?:KsjTmplt-)(.*?)(?:-v.*)?(?:\\.html)", "\\1")
output <- here::here("data", "attrs", glue::glue("{id}.csv"))

attr_table <- read_html(input) %>% 
  html_table() %>% 
  purrr::keep(~ "地物情報" %in% colnames(.x))

stopifnot(length(attr_table) == 1)
attr_table <- attr_table[[1]]

knitr::kable(attr_table)
```

| 地物情報                                 | 地物名                                                                                                                                                                                                                                                                                                                                             | 地物名                                                                                                                                                                                                                                                                                                                                             | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 説明                                                                                                                                                                                                                                                                                                                                               |
|:-----------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 地物情報                                 | 地価公示                                                                                                                                                                                                                                                                                                                                           | 地価公示                                                                                                                                                                                                                                                                                                                                           | 地価公示法に基づき調査・公示される各年1月1日時点の全国の標準地の情報                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                    |
| 属性情報                                 | 属性名                                                                                                                                                                                                                                                                                                                                             | 属性名                                                                                                                                                                                                                                                                                                                                             | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 属性の型                                                                                                                                                                                                                                                                                                                                           |
| 属性情報                                 | 標準地コード                                                                                                                                                                                                                                                                                                                                       | 標準地コード                                                                                                                                                                                                                                                                                                                                       | 地価公示の標準地に付される番号                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                    |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 見出し番号                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | コードリスト「見出し番号」                                                                                                                                                                                                                                                                                                                         |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 一連番号                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 前年度標準地コード                                                                                                                                                                                                                                                                                                                                 | 前年度標準地コード                                                                                                                                                                                                                                                                                                                                 | 当該標準地における前年度の標準地コード                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                    |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 見出し番号                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | コードリスト「見出し番号」                                                                                                                                                                                                                                                                                                                         |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 一連番号                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 年度                                                                                                                                                                                                                                                                                                                                               | 年度                                                                                                                                                                                                                                                                                                                                               | 対象とする地価公示の時期※西暦で、「年」のみを記述                                                                                                                                                                                                                                                                                                                                                                                                                            | 時間型（TM\_Instant）                                                                                                                                                                                                                                                                                                                              |
| 属性情報                                 | 地点                                                                                                                                                                                                                                                                                                                                               | 地点                                                                                                                                                                                                                                                                                                                                               | 地価公示標準地の位置                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 点型（GM\_Point）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 公示価格                                                                                                                                                                                                                                                                                                                                           | 公示価格                                                                                                                                                                                                                                                                                                                                           | 標準地の地価.単位を「円/m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 属性移動                                                                                                                                                                                                                                                                                                                                           | 属性移動                                                                                                                                                                                                                                                                                                                                           | 標準地の昨年から現在の属性移動状況。                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                    |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 選定状況                                                                                                                                                                                                                                                                                                                                           | 当該標準地の選定に関する情報                                                                                                                                                                                                                                                                                                                                                                                                                                                 | コードリスト「選定状況」                                                                                                                                                                                                                                                                                                                           |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 住居漢字                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 地積                                                                                                                                                                                                                                                                                                                                               | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 利用の現況                                                                                                                                                                                                                                                                                                                                         | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 建物構造                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 供給施設                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 駅からの距離                                                                                                                                                                                                                                                                                                                                       | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 用途区分                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 防火区分                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 都市計画区分                                                                                                                                                                                                                                                                                                                                       | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 森林区分                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 法規制                                                                                                                                                                                                                                                                                                                                             | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 建ぺい率                                                                                                                                                                                                                                                                                                                                           | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 |                                                                                                                                                                                                                                                                                                                                                    | 容積率                                                                                                                                                                                                                                                                                                                                             | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 | 標準地行政区域コード                                                                                                                                                                                                                                                                                                                               | 標準地行政区域コード                                                                                                                                                                                                                                                                                                                               | 都道府県コードと市区町村コードからなる、行政区を特定するためのコード                                                                                                                                                                                                                                                                                                                                                                                                         | コードリスト「行政コード」                                                                                                                                                                                                                                                                                                                         |
| 属性情報                                 | 標準地市区町村名称                                                                                                                                                                                                                                                                                                                                 | 標準地市区町村名称                                                                                                                                                                                                                                                                                                                                 | 標準地の市区町村の名称                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 住居表示                                                                                                                                                                                                                                                                                                                                           | 住居表示                                                                                                                                                                                                                                                                                                                                           | 標準地の住居表示又は地番                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 地積                                                                                                                                                                                                                                                                                                                                               | 地積                                                                                                                                                                                                                                                                                                                                               | 単位を「m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 利用現況                                                                                                                                                                                                                                                                                                                                           | 利用現況                                                                                                                                                                                                                                                                                                                                           | 標準地の現在の利用方法                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 列挙型（住宅、店舗、事務所、銀行、旅館、給油所、工場、倉庫、農地、山林、医院、空地、作業場、原野、その他、用材、雑木）                                                                                                                                                                                                                             |
| 属性情報                                 | 利用状況表示                                                                                                                                                                                                                                                                                                                                       | 利用状況表示                                                                                                                                                                                                                                                                                                                                       | 「利用現況」が“その他”の場合の利用状況（自由記述）。                                                                                                                                                                                                                                                                                                                                                                                                                         | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 建物構造                                                                                                                                                                                                                                                                                                                                           | 建物構造                                                                                                                                                                                                                                                                                                                                           | 標準地の建物の構造による区別。 以下に示す「建物構造略号」＋「建物の階数」で示す。ただし、建物に地下階層がある場合は、地上階数の後に「F」、地下階数の後に「B」を記述する。建物構造略号：SRC：鉄骨・鉄筋コンクリートRC：鉄筋コンクリートS：鉄骨造LS：軽量鉄骨造B：ブロック造W：木造記述例）木造で地上2階建の場合： W2鉄筋コンクリートで地上3階地下1階建ての場合： RC3F1B                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 供給施設有無（水道）                                                                                                                                                                                                                                                                                                                               | 供給施設有無（水道）                                                                                                                                                                                                                                                                                                                               | 水道が供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 | 供給施設有無（ガス）                                                                                                                                                                                                                                                                                                                               | 供給施設有無（ガス）                                                                                                                                                                                                                                                                                                                               | ガスが供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 | 供給施設有無（下水）                                                                                                                                                                                                                                                                                                                               | 供給施設有無（下水）                                                                                                                                                                                                                                                                                                                               | 下水が供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 | 形状                                                                                                                                                                                                                                                                                                                                               | 形状                                                                                                                                                                                                                                                                                                                                               | 標準地の形状による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 間口比率                                                                                                                                                                                                                                                                                                                                           | 間口比率                                                                                                                                                                                                                                                                                                                                           | 間口幅と奥行幅の比率（短い方を基準値1.0とする）。                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                                                     |
| 属性情報                                 | 奥行比率                                                                                                                                                                                                                                                                                                                                           | 奥行比率                                                                                                                                                                                                                                                                                                                                           | 間口幅と奥行幅の比率（短い方を基準値1.0とする）。                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                                                     |
| 属性情報                                 | 地上階層                                                                                                                                                                                                                                                                                                                                           | 地上階層                                                                                                                                                                                                                                                                                                                                           | 単位は「階」とする。※不明の場合、“0”を記述                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 地下階層                                                                                                                                                                                                                                                                                                                                           | 地下階層                                                                                                                                                                                                                                                                                                                                           | 単位は「階」とする。※不明の場合、“0”を記述                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 前面道路状況                                                                                                                                                                                                                                                                                                                                       | 前面道路状況                                                                                                                                                                                                                                                                                                                                       | 標準地の前面道路状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 前面道路の方位                                                                                                                                                                                                                                                                                                                                     | 前面道路の方位                                                                                                                                                                                                                                                                                                                                     | 標準地の前面道路の方位による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                           | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 前面道路の幅員                                                                                                                                                                                                                                                                                                                                     | 前面道路の幅員                                                                                                                                                                                                                                                                                                                                     | 単位は「m」とする。※駅前広場の場合、“999.9”を記述                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                                                     |
| 属性情報                                 | 前面道路の駅前状況                                                                                                                                                                                                                                                                                                                                 | 前面道路の駅前状況                                                                                                                                                                                                                                                                                                                                 | 前面道路の駅前による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 前面道路の舗装状況                                                                                                                                                                                                                                                                                                                                 | 前面道路の舗装状況                                                                                                                                                                                                                                                                                                                                 | 標準地の前面道路の舗装状況                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 側道状況                                                                                                                                                                                                                                                                                                                                           | 側道状況                                                                                                                                                                                                                                                                                                                                           | 標準地の側道状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 側道の方位                                                                                                                                                                                                                                                                                                                                         | 側道の方位                                                                                                                                                                                                                                                                                                                                         | 標準地の側道方位による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 交通施設との近接状況                                                                                                                                                                                                                                                                                                                               | 交通施設との近接状況                                                                                                                                                                                                                                                                                                                               | 交通施設との近接状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 周辺の土地利用の状況                                                                                                                                                                                                                                                                                                                               | 周辺の土地利用の状況                                                                                                                                                                                                                                                                                                                               | 周辺の土地利用の状況                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 駅名                                                                                                                                                                                                                                                                                                                                               | 駅名                                                                                                                                                                                                                                                                                                                                               | 標準地の最寄りの駅名。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 駅からの距離                                                                                                                                                                                                                                                                                                                                       | 駅からの距離                                                                                                                                                                                                                                                                                                                                       | 標準地から鉄道駅までの道路距離.単位は「m」※近接の場合、“0”を記述する。                                                                                                                                                                                                                                                                                                                                                                                                       | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 用途区分                                                                                                                                                                                                                                                                                                                                           | 用途区分                                                                                                                                                                                                                                                                                                                                           | 都市計画法による用途区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                   | 列挙型（1低専：第一種低層住居専用地域、2低専：第二種低層住居専用地域、1中専：第一種中高層住居専用地域、2中専：第二種中高層住居専用地域、1住居：第一種住居地域、2住居：第二種住居地域、準住居：準住居地域、近商：近隣商業地域、商業：商業地域、準工：準工業地域、工業：工業地域工専：工業専用地域田園住：田園住居地域                               |
| 属性情報                                 | 防火区分                                                                                                                                                                                                                                                                                                                                           | 防火区分                                                                                                                                                                                                                                                                                                                                           | 都市計画法による防火区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                   | 列挙型（防火：防火地域、準防：準防火地域）                                                                                                                                                                                                                                                                                                         |
| 属性情報                                 | 都市計画区分                                                                                                                                                                                                                                                                                                                                       | 都市計画区分                                                                                                                                                                                                                                                                                                                                       | 都市計画法による都市計画区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                               | 列挙型（調区：市街化調整区域、都市：市街化区域及び市街化調整区域以外の都市計画区域、都計外：都市計画区域外、準都計：準都市計画区域）                                                                                                                                                                                                               |
| 属性情報                                 | 森林区分                                                                                                                                                                                                                                                                                                                                           | 森林区分                                                                                                                                                                                                                                                                                                                                           | 森林法の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                     | 列挙型（地森計：地域森林計画対象区域）                                                                                                                                                                                                                                                                                                             |
| 属性情報                                 | 公園区分                                                                                                                                                                                                                                                                                                                                           | 公園区分                                                                                                                                                                                                                                                                                                                                           | 公園法の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                     | 列挙型（国立公（普通）：国立公園地域、国立公（2種）：国立公園地域第二種特別区域、国立公（3種）：国立公園地域第三種特別区域、国定公（普通）：国定公園区域、国定公（2種）：国定公園第二種特別区域、国定公（3種）：国定公園第三種特別区域）                                                                                                           |
| 属性情報                                 | 建ぺい率                                                                                                                                                                                                                                                                                                                                           | 建ぺい率                                                                                                                                                                                                                                                                                                                                           | 建築物の延べ面積の敷地面積に対する割合。単位は「%」とする。                                                                                                                                                                                                                                                                                                                                                                                                                  | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 容積率                                                                                                                                                                                                                                                                                                                                             | 容積率                                                                                                                                                                                                                                                                                                                                             | 単位は「%」                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | 共通地点                                                                                                                                                                                                                                                                                                                                           | 共通地点                                                                                                                                                                                                                                                                                                                                           | 前年度地価公示の調査地点と共通かどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                               | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                                                |
| 属性情報                                 | 選定年次ビット                                                                                                                                                                                                                                                                                                                                     | 選定年次ビット                                                                                                                                                                                                                                                                                                                                     | 昭和58年から最新年までの選定対象の状況について、0：選定対象年ではない1：選定対象年であるを順番に列挙する。                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | S58調査価格                                                                                                                                                                                                                                                                                                                                        | S58調査価格                                                                                                                                                                                                                                                                                                                                        | 標準地のS58の地価。単位を「円/m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                                                  |
| 属性情報                                 | S58調査価格                                                                                                                                                                                                                                                                                                                                        | S58調査価格                                                                                                                                                                                                                                                                                                                                        | 同上                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 同上                                                                                                                                                                                                                                                                                                                                               |
| 属性情報                                 | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              |
| 属性情報                                 | 属性移動S59                                                                                                                                                                                                                                                                                                                                        | 属性移動S59                                                                                                                                                                                                                                                                                                                                        | 昭和58年からの最新年の属性移動の下記の14項目について、属性移動の区分を順番に列挙する。（桁数は14桁）「選定状況、住所漢字、地積、利用の現況、建物構造、供給施設、駅からの距離、用途区分、防火区分、都市計画区分、森林区分、公園区分、建ぺい率、容積率」「選定状況」について、1:継続2:標準地・基準地番号変更4:新設・選定替えで当該年追加※過年度に標準地・基準地のない場合のコードは“0”となる。「選定状況」以外について、0:前年から変更無し1:前年から変更有りを順番に列挙する。 | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                                                        |
| 属性情報                                 | 属性移動S60                                                                                                                                                                                                                                                                                                                                        | 属性移動S60                                                                                                                                                                                                                                                                                                                                        | 同上                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 同上                                                                                                                                                                                                                                                                                                                                               |
| 属性情報                                 | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                              |
| 主な品質情報                             | ■ 完全性/過剰・漏れ：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データと比較.■ 位置正確度/絶対正確度（外部正確度）：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データ及びその付近案内図と比較。                                                                                                                  | ■ 完全性/過剰・漏れ：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データと比較.■ 位置正確度/絶対正確度（外部正確度）：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データ及びその付近案内図と比較。                                                                                                                  | ■ 完全性/過剰・漏れ：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データと比較.■ 位置正確度/絶対正確度（外部正確度）：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データ及びその付近案内図と比較。                                                                                                                                                                                                                                            | ■ 完全性/過剰・漏れ：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データと比較.■ 位置正確度/絶対正確度（外部正確度）：　全数検査、誤率0%土地鑑定委員会より公表される各年の地価公示データ及びその付近案内図と比較。                                                                                                                  |
| データフォーマット（符号化）             | ・GML形式（JPGIS2.1準拠）.詳細は製品仕様書内の符号化規則を参照してください.2.4版のデータ詳細及び製品仕様書は、こちら.2.3版のデータ詳細及び製品仕様書は、こちら.2.2版のデータ詳細及び製品仕様書は、こちら.2.1版のデータ詳細及び製品仕様書は、こちら.1.0版のデータ詳細及び製品仕様書は、こちら.・シェープファイル形式.シェープファイルの属性について | ・GML形式（JPGIS2.1準拠）.詳細は製品仕様書内の符号化規則を参照してください.2.4版のデータ詳細及び製品仕様書は、こちら.2.3版のデータ詳細及び製品仕様書は、こちら.2.2版のデータ詳細及び製品仕様書は、こちら.2.1版のデータ詳細及び製品仕様書は、こちら.1.0版のデータ詳細及び製品仕様書は、こちら.・シェープファイル形式.シェープファイルの属性について | ・GML形式（JPGIS2.1準拠）.詳細は製品仕様書内の符号化規則を参照してください.2.4版のデータ詳細及び製品仕様書は、こちら.2.3版のデータ詳細及び製品仕様書は、こちら.2.2版のデータ詳細及び製品仕様書は、こちら.2.1版のデータ詳細及び製品仕様書は、こちら.1.0版のデータ詳細及び製品仕様書は、こちら.・シェープファイル形式.シェープファイルの属性について                                                                                                                           | ・GML形式（JPGIS2.1準拠）.詳細は製品仕様書内の符号化規則を参照してください.2.4版のデータ詳細及び製品仕様書は、こちら.2.3版のデータ詳細及び製品仕様書は、こちら.2.2版のデータ詳細及び製品仕様書は、こちら.2.1版のデータ詳細及び製品仕様書は、こちら.1.0版のデータ詳細及び製品仕様書は、こちら.・シェープファイル形式.シェープファイルの属性について |
| 国土情報ウェブマッピングシステムへの登録 | 調整中                                                                                                                                                                                                                                                                                                                                             | 調整中                                                                                                                                                                                                                                                                                                                                             | 調整中                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 調整中                                                                                                                                                                                                                                                                                                                                             |
| 識別子                                   | L01                                                                                                                                                                                                                                                                                                                                                | L01                                                                                                                                                                                                                                                                                                                                                | L01                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | L01                                                                                                                                                                                                                                                                                                                                                |
| その他の情報                             | 各データのメタデータについては、ダウンロードしたファイルに添付されています.地価公示に関するより詳細な情報は、国土交通省土地・建設産業局の地価公示に関するWebページ「標準地・基準地検索システム」をご参照ください.                                                                                                                                  | 各データのメタデータについては、ダウンロードしたファイルに添付されています.地価公示に関するより詳細な情報は、国土交通省土地・建設産業局の地価公示に関するWebページ「標準地・基準地検索システム」をご参照ください.                                                                                                                                  | 各データのメタデータについては、ダウンロードしたファイルに添付されています.地価公示に関するより詳細な情報は、国土交通省土地・建設産業局の地価公示に関するWebページ「標準地・基準地検索システム」をご参照ください.                                                                                                                                                                                                                                                            | 各データのメタデータについては、ダウンロードしたファイルに添付されています.地価公示に関するより詳細な情報は、国土交通省土地・建設産業局の地価公示に関するWebページ「標準地・基準地検索システム」をご参照ください.                                                                                                                                  |

``` r
attr_table <- attr_table %>% 
  # 重複を取り除くため
  tibble::as_tibble(.name_repair = "unique") %>% 
  filter(地物情報 == "属性情報")
```

    ## New names:
    ## * 地物名 -> 地物名...2
    ## * 地物名 -> 地物名...3
    ## * 説明 -> 説明...4
    ## * 説明 -> 説明...5

``` r
attr_table <- attr_table %>% 
  slice(-1)

colnames(attr_table) <- c("_", "name1", "name2", "description", "type")

stopifnot(all(!is.na(attr_table$name1)))
stopifnot(all(!is.na(attr_table$name2)))

res <- attr_table %>%
  mutate(name1 = if_else(name1 == "", NA_character_, name1)) %>% 
  tidyr::fill(name1) %>% 
  # 地点は属性情報ではない
  filter(type != "", name1 != "地点") %>% 
  transmute(
    name = if_else(name1 == name2, name1, paste(name1, name2, sep = "_")),
    code = NA_character_,
    description,
    type
  )
```

最後の「S58調査価格」のところは年度によって長さが変わってしまうので省略する。

``` r
knitr::kable(res)
```

| name                           | code | description                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | type                                                                                                                                                                                                                                                                                                                 |
|:-------------------------------|:-----|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 標準地コード\_見出し番号       | NA   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | コードリスト「見出し番号」                                                                                                                                                                                                                                                                                           |
| 標準地コード\_一連番号         | NA   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 前年度標準地コード\_見出し番号 | NA   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | コードリスト「見出し番号」                                                                                                                                                                                                                                                                                           |
| 前年度標準地コード\_一連番号   | NA   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 年度                           | NA   | 対象とする地価公示の時期※西暦で、「年」のみを記述                                                                                                                                                                                                                                                                                                                                                                                                                            | 時間型（TM\_Instant）                                                                                                                                                                                                                                                                                                |
| 公示価格                       | NA   | 標準地の地価.単位を「円/m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 属性移動\_選定状況             | NA   | 当該標準地の選定に関する情報                                                                                                                                                                                                                                                                                                                                                                                                                                                 | コードリスト「選定状況」                                                                                                                                                                                                                                                                                             |
| 属性移動\_住居漢字             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_地積                 | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_利用の現況           | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_建物構造             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_供給施設             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_駅からの距離         | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_用途区分             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_防火区分             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_都市計画区分         | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_森林区分             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_法規制               | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_建ぺい率             | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 属性移動\_容積率               | NA   | 前年度からの変更の有無                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 標準地行政区域コード           | NA   | 都道府県コードと市区町村コードからなる、行政区を特定するためのコード                                                                                                                                                                                                                                                                                                                                                                                                         | コードリスト「行政コード」                                                                                                                                                                                                                                                                                           |
| 標準地市区町村名称             | NA   | 標準地の市区町村の名称                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 住居表示                       | NA   | 標準地の住居表示又は地番                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 地積                           | NA   | 単位を「m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 利用現況                       | NA   | 標準地の現在の利用方法                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 列挙型（住宅、店舗、事務所、銀行、旅館、給油所、工場、倉庫、農地、山林、医院、空地、作業場、原野、その他、用材、雑木）                                                                                                                                                                                               |
| 利用状況表示                   | NA   | 「利用現況」が“その他”の場合の利用状況（自由記述）。                                                                                                                                                                                                                                                                                                                                                                                                                         | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 建物構造                       | NA   | 標準地の建物の構造による区別。 以下に示す「建物構造略号」＋「建物の階数」で示す。ただし、建物に地下階層がある場合は、地上階数の後に「F」、地下階数の後に「B」を記述する。建物構造略号：SRC：鉄骨・鉄筋コンクリートRC：鉄筋コンクリートS：鉄骨造LS：軽量鉄骨造B：ブロック造W：木造記述例）木造で地上2階建の場合： W2鉄筋コンクリートで地上3階地下1階建ての場合： RC3F1B                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 供給施設有無（水道）           | NA   | 水道が供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 供給施設有無（ガス）           | NA   | ガスが供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 供給施設有無（下水）           | NA   | 下水が供給されているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                         | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 形状                           | NA   | 標準地の形状による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 間口比率                       | NA   | 間口幅と奥行幅の比率（短い方を基準値1.0とする）。                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                       |
| 奥行比率                       | NA   | 間口幅と奥行幅の比率（短い方を基準値1.0とする）。                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                       |
| 地上階層                       | NA   | 単位は「階」とする。※不明の場合、“0”を記述                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 地下階層                       | NA   | 単位は「階」とする。※不明の場合、“0”を記述                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 前面道路状況                   | NA   | 標準地の前面道路状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 前面道路の方位                 | NA   | 標準地の前面道路の方位による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                           | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 前面道路の幅員                 | NA   | 単位は「m」とする。※駅前広場の場合、“999.9”を記述                                                                                                                                                                                                                                                                                                                                                                                                                            | 実数型（Real）                                                                                                                                                                                                                                                                                                       |
| 前面道路の駅前状況             | NA   | 前面道路の駅前による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 前面道路の舗装状況             | NA   | 標準地の前面道路の舗装状況                                                                                                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 側道状況                       | NA   | 標準地の側道状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 側道の方位                     | NA   | 標準地の側道方位による区別。                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 交通施設との近接状況           | NA   | 交通施設との近接状況。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 周辺の土地利用の状況           | NA   | 周辺の土地利用の状況                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 駅名                           | NA   | 標準地の最寄りの駅名。                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 駅からの距離                   | NA   | 標準地から鉄道駅までの道路距離.単位は「m」※近接の場合、“0”を記述する。                                                                                                                                                                                                                                                                                                                                                                                                       | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 用途区分                       | NA   | 都市計画法による用途区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                   | 列挙型（1低専：第一種低層住居専用地域、2低専：第二種低層住居専用地域、1中専：第一種中高層住居専用地域、2中専：第二種中高層住居専用地域、1住居：第一種住居地域、2住居：第二種住居地域、準住居：準住居地域、近商：近隣商業地域、商業：商業地域、準工：準工業地域、工業：工業地域工専：工業専用地域田園住：田園住居地域 |
| 防火区分                       | NA   | 都市計画法による防火区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                   | 列挙型（防火：防火地域、準防：準防火地域）                                                                                                                                                                                                                                                                           |
| 都市計画区分                   | NA   | 都市計画法による都市計画区分の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                               | 列挙型（調区：市街化調整区域、都市：市街化区域及び市街化調整区域以外の都市計画区域、都計外：都市計画区域外、準都計：準都市計画区域）                                                                                                                                                                                 |
| 森林区分                       | NA   | 森林法の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                     | 列挙型（地森計：地域森林計画対象区域）                                                                                                                                                                                                                                                                               |
| 公園区分                       | NA   | 公園法の制限を受けているかどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                                     | 列挙型（国立公（普通）：国立公園地域、国立公（2種）：国立公園地域第二種特別区域、国立公（3種）：国立公園地域第三種特別区域、国定公（普通）：国定公園区域、国定公（2種）：国定公園第二種特別区域、国定公（3種）：国定公園第三種特別区域）                                                                             |
| 建ぺい率                       | NA   | 建築物の延べ面積の敷地面積に対する割合。単位は「%」とする。                                                                                                                                                                                                                                                                                                                                                                                                                  | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 容積率                         | NA   | 単位は「%」                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| 共通地点                       | NA   | 前年度地価公示の調査地点と共通かどうかの区別。                                                                                                                                                                                                                                                                                                                                                                                                                               | 真偽値型（Boolean）                                                                                                                                                                                                                                                                                                  |
| 選定年次ビット                 | NA   | 昭和58年から最新年までの選定対象の状況について、0：選定対象年ではない1：選定対象年であるを順番に列挙する。                                                                                                                                                                                                                                                                                                                                                                   | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| S58調査価格                    | NA   | 標準地のS58の地価。単位を「円/m2」とする。                                                                                                                                                                                                                                                                                                                                                                                                                                   | 整数型（Integer）                                                                                                                                                                                                                                                                                                    |
| S58調査価格                    | NA   | 同上                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 同上                                                                                                                                                                                                                                                                                                                 |
| ※以降、最新年まで同様          | NA   | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                |
| 属性移動S59                    | NA   | 昭和58年からの最新年の属性移動の下記の14項目について、属性移動の区分を順番に列挙する。（桁数は14桁）「選定状況、住所漢字、地積、利用の現況、建物構造、供給施設、駅からの距離、用途区分、防火区分、都市計画区分、森林区分、公園区分、建ぺい率、容積率」「選定状況」について、1:継続2:標準地・基準地番号変更4:新設・選定替えで当該年追加※過年度に標準地・基準地のない場合のコードは“0”となる。「選定状況」以外について、0:前年から変更無し1:前年から変更有りを順番に列挙する。 | 文字列型（CharacterString）                                                                                                                                                                                                                                                                                          |
| 属性移動S60                    | NA   | 同上                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 同上                                                                                                                                                                                                                                                                                                                 |
| ※以降、最新年まで同様          | NA   | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ※以降、最新年まで同様                                                                                                                                                                                                                                                                                                |

``` r
readr::write_csv(slice(res, 1:55), output)
```

Validate extracted data
================

``` r
library(readr)
library(dplyr, warn.conflicts = FALSE)
```

``` r
csv_files <- list.files(here::here("data", "attrs"), full.names = TRUE)
names(csv_files) <- tools::file_path_sans_ext(basename(csv_files))

col_types <- cols(
  name = col_character(),
  code = col_character(),
  description = col_character(),
  type = col_character()
)
d <- purrr::map_dfr(csv_files, read_csv, col_types = col_types, .id = "id")
```

``` r
d %>% 
  group_by(id) %>% 
  summarise(
    n = n(),
    has_code = scales::percent(sum(!is.na(code)) / n(), accuracy = 0.1)
  ) %>% 
  knitr::kable()
```

| id       |   n | has\_code |
|:---------|----:|:----------|
| A03      |   8 | 0.0%      |
| A10      |   3 | 0.0%      |
| A11      |   3 | 0.0%      |
| A12      |   3 | 0.0%      |
| A13      |   3 | 0.0%      |
| A15      |   6 | 100.0%    |
| A16      |  12 | 0.0%      |
| A17      |   9 | 0.0%      |
| A18      |  10 | 0.0%      |
| A18s-a   |   3 | 0.0%      |
| A19      |   9 | 0.0%      |
| A19s     |   5 | 0.0%      |
| A20s     |   5 | 0.0%      |
| A21      |   2 | 0.0%      |
| A21s     |   5 | 0.0%      |
| A22      |   9 | 100.0%    |
| A22-m    |  43 | 65.1%     |
| A22s     |   3 | 0.0%      |
| A23      |   9 | 0.0%      |
| A24      |  11 | 0.0%      |
| A25      |   8 | 0.0%      |
| A26      |   2 | 0.0%      |
| A27      |   9 | 88.9%     |
| A28      |   1 | 0.0%      |
| A29      |   9 | 88.9%     |
| A30a5    |  10 | 100.0%    |
| A30b     |  26 | 100.0%    |
| A31      |  17 | 94.1%     |
| A32      |  11 | 90.9%     |
| A33      |   8 | 100.0%    |
| A34      |  18 | 16.7%     |
| A35a     |  12 | 41.7%     |
| A35b     |  16 | 43.8%     |
| A35c     |  18 | 100.0%    |
| A37      |  46 | 91.3%     |
| A38      |  21 | 85.7%     |
| A39      |  25 | 100.0%    |
| A40      |   3 | 100.0%    |
| A42      |  20 | 95.0%     |
| A43      |  12 | 100.0%    |
| A44      |  10 | 100.0%    |
| A45      |  33 | 100.0%    |
| C02      |  17 | 0.0%      |
| C09      |  12 | 0.0%      |
| C23      |   7 | 0.0%      |
| C28      |  20 | 75.0%     |
| G02      |  58 | 0.0%      |
| G04-a    |  10 | 100.0%    |
| G04-c    |  10 | 100.0%    |
| G04-d    |  10 | 100.0%    |
| G08      |   3 | 100.0%    |
| L01      |  55 | 0.0%      |
| L02      |  53 | 0.0%      |
| L03-a    |   1 | 0.0%      |
| L03-b    |   2 | 0.0%      |
| L03-b-c  |   4 | 0.0%      |
| L03-b-u  |   2 | 0.0%      |
| L05      |  15 | 100.0%    |
| mesh1000 |  17 | 0.0%      |
| mesh500  |  17 | 0.0%      |
| N02      |   9 | 55.6%     |
| N03      |   5 | 100.0%    |
| N04      |  17 | 0.0%      |
| N05      |  12 | 91.7%     |
| N06      |  19 | 100.0%    |
| N07      |   8 | 87.5%     |
| N08      |  25 | 100.0%    |
| N09      |  31 | 96.8%     |
| N10      |   8 | 100.0%    |
| N11      |   7 | 100.0%    |
| P02      |   7 | 0.0%      |
| P04      |   7 | 100.0%    |
| P05      |   4 | 0.0%      |
| P07      |   2 | 0.0%      |
| P09      |  13 | 0.0%      |
| P11      |   4 | 0.0%      |
| P13      |  10 | 100.0%    |
| P14      |  11 | 100.0%    |
| P15      |  19 | 94.7%     |
| P16      |  15 | 93.3%     |
| P17      |   6 | 83.3%     |
| P18      |   6 | 83.3%     |
| P19      |   8 | 100.0%    |
| P20      |  12 | 100.0%    |
| P21      |   9 | 0.0%      |
| P24      |  12 | 100.0%    |
| P26      |  13 | 100.0%    |
| P27      |   9 | 100.0%    |
| P28      |   7 | 100.0%    |
| P29      |   7 | 100.0%    |
| P30      |   7 | 100.0%    |
| P31      |   9 | 100.0%    |
| P32      |   9 | 88.9%     |
| P34      |   4 | 100.0%    |
| P35      |  28 | 100.0%    |
| S05-a    |  66 | 0.0%      |
| S05-b    |  66 | 0.0%      |
| S05-c    |  57 | 0.0%      |
| S05-d    |  61 | 100.0%    |
| S10a     | 126 | 100.0%    |
| S10b     |   9 | 100.0%    |
| S12      |  38 | 97.4%     |
| W01      |  14 | 100.0%    |
| W05      |  12 | 0.0%      |
| W07      |   5 | 0.0%      |
| W09      |   5 | 80.0%     |

Extract codelist
================

``` r
library(readr)
library(stringr)
library(dplyr, warn.conflicts = FALSE)

csv_files <- c(
  list.files(here::here("data", "colnames_exact"), full.names = TRUE),
  list.files(here::here("data", "colnames_positional"), full.names = TRUE),
  list.files(here::here("data", "colnames_other"), full.names = TRUE)
)
names(csv_files) <- tools::file_path_sans_ext(basename(csv_files))

col_types <- cols(
  name = col_character(),
  code = col_character(),
  description = col_character(),
  type = col_character()
)

d <- purrr::map_dfr(csv_files, read_csv, col_types = col_types, .id = "id")
```

コードリストは、2つタイプがある。
そのページに直接列挙されているタイプと、リンク先に詳細があるタイプ。
リンク先に詳細があるタイプは、`html_table()`を使った時点で失われてしまうので、別途収集する。

``` r
d %>%
  filter(codelist) %>%
  arrange(code) %>% 
  transmute(
    id, 
    code, 
    type = str_squish(type),
    codelist_type = case_when(
      str_detect(type, "都道府県コード") ~ "PrefCd",
      str_detect(type, "行政コード") ~ "AdminAreaCd",
      # A22
      str_detect(type, "豪雪区分コード") ~ "GosetsuCd",
      # A22-mA
      str_detect(type, "集計単位フラグ") ~ "AggregateUnitFlag",
      str_detect(type, "位置特定レベル") ~ "PosSpecificLevel",
      # A29
      str_detect(type, "用途地域分類コード") ~ "UseDistrictCd",
      # A31
      str_detect(type, "浸水深ランクコード") ~ "water_depth_code",
      str_detect(type, "浸水継続時間ランクコード") ~ "flood_duration_code",
      str_detect(type, "危険区域区分コード") ~ "hazardous_area_classification_code",
      # A33
      str_detect(type, "現象種別コード") ~ "CodeOfPhenomenon",
      str_detect(type, "区域コード") ~ "CodeOfZone_h27",       # v1.1 では CodeOfZone が使われている
      str_detect(type, "特別警戒区域未指定コード") ~ "CodeOfUnSpecification",
      
      # TODO
      
      code %in% c("G04a_005", "G04a_005", "G04d_005") ~ "undersea",
      code %in% c("G04a_007", "G04a_009","G04c_007","G04c_009","G04d_007","G04d_009") ~ "direction",
      code == "A15_003" ~ "authority_type",
      code == "A15_004" ~ "protection_area_type",
      code == "P13_009" ~ "urban_planning_decided",
      code == "P15_017" ~ "industrial_waste_disposal",
      code == "P15_018" ~ "industrial_waste_special_treatment",
      code == "P17_003" ~ "firehouse_type",
      code == "P21A_003" ~ "water_supply_type",
      code == "P24_011" ~ "refereced_from_agri",
    )
  ) %>%
  knitr::kable()
```

| id      | code         | type                                                                                                                                                                                     | codelist\_type                        |
|:--------|:-------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------|
| A15     | A15\_002     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A15     | A15\_003     | コードリスト「指定機関コード」                                                                                                                                                           | authority\_type                       |
| A15     | A15\_004     | コードリスト「保護区分コード」                                                                                                                                                           | protection\_area\_type                |
| A22     | A22\_002     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A22     | A22\_009     | コードリスト「豪雪区分コード」                                                                                                                                                           | GosetsuCd                             |
| A22-m   | A22\_100005  | コードリスト「集計単位フラグ」                                                                                                                                                           | AggregateUnitFlag                     |
| A22-m   | A22\_100007  | コードリスト「集計単位フラグ」                                                                                                                                                           | AggregateUnitFlag                     |
| A22-m   | A22\_40009   | コードリスト「位置特定レベル」                                                                                                                                                           | PosSpecificLevel                      |
| A22-m   | A22\_500001  | コードリスト「位置特定レベル」                                                                                                                                                           | PosSpecificLevel                      |
| A27     | A27\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A27     | A27\_005     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A29     | A29\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A29     | A29\_004     | コードリスト「用途地域分類コード」                                                                                                                                                       | UseDistrictCd                         |
| A31     | A31\_101     | コードリスト型（浸水深ランクコード）                                                                                                                                                     | water\_depth\_code                    |
| A31     | A31\_201     | コードリスト型（浸水深ランクコード）                                                                                                                                                     | water\_depth\_code                    |
| A31     | A31\_301     | コードリスト型（浸水継続時間ランクコード）                                                                                                                                               | flood\_duration\_code                 |
| A31     | A31\_401     | コードリスト型（危険区域区分コード）                                                                                                                                                     | hazardous\_area\_classification\_code |
| A32     | A32\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A32     | A32\_006     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A33     | A33\_001     | コードリスト「 現象種別コード 」                                                                                                                                                         | CodeOfPhenomenon                      |
| A33     | A33\_002     | コードリスト「 区域コード 」                                                                                                                                                             | CodeOfZone\_h27                       |
| A33     | A33\_003     | コードリスト「 都道府県コード 」                                                                                                                                                         | PrefCd                                |
| A33     | A33\_008     | コードリスト「 特別警戒区域未指定コード 」                                                                                                                                               | CodeOfUnSpecification                 |
| A35a    | A35a\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35a    | A35a\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35a    | A35b\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35a    | A35b\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35a    | A35c\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35a    | A35c\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35b    | A35d\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35b    | A35d\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35b    | A35d\_009    | コードリスト「種別コード」                                                                                                                                                               | NA                                    |
| A35b    | A35e\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35b    | A35e\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35b    | A35e\_009    | コードリスト「種別コード」                                                                                                                                                               | NA                                    |
| A35b    | A35f\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35b    | A35f\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35b    | A35f\_007    | コードリスト「種別コード」                                                                                                                                                               | NA                                    |
| A35c    | A35g\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35c    | A35g\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A35c    | A35h\_002    | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A35c    | A35h\_004    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A37     | A37\_300006  | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A37     | A37\_300007  | コードリスト「集計単位フラグ」                                                                                                                                                           | AggregateUnitFlag                     |
| A38     | A38a\_001    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A38     | A38a\_005    | コードリスト「設定フラグ」                                                                                                                                                               | NA                                    |
| A38     | A38b\_001    | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A39     | A39\_001     | 都道府県コード                                                                                                                                                                           | PrefCd                                |
| A39     | A39\_002     | 行政コード                                                                                                                                                                               | AdminAreaCd                           |
| A39     | A39\_021     | 不燃領域率定義コード                                                                                                                                                                     | NA                                    |
| A39     | A39\_025     | 防災再開発促進地区指定コード                                                                                                                                                             | NA                                    |
| A42     | A42\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A42     | A42\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A43     | A43\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A44     | A44\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A45     | A45\_002     | コードリスト「森林管理局コード」                                                                                                                                                         | NA                                    |
| A45     | A45\_003     | コードリスト「森林管理署コード」                                                                                                                                                         | NA                                    |
| A45     | A45\_006     | コードリスト「小班主番コード」                                                                                                                                                           | NA                                    |
| A45     | A45\_008     | コードリスト「局名称コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_009     | コードリスト「署名称コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_015     | コードリスト「樹種コード」                                                                                                                                                               | NA                                    |
| A45     | A45\_018     | コードリスト「樹種コード」                                                                                                                                                               | NA                                    |
| A45     | A45\_021     | コードリスト「樹種コード」                                                                                                                                                               | NA                                    |
| A45     | A45\_025     | コードリスト「林種の細分コード」                                                                                                                                                         | NA                                    |
| A45     | A45\_026     | コードリスト「機能類型コード」                                                                                                                                                           | NA                                    |
| A45     | A45\_028     | コードリスト「保安林コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_029     | コードリスト「保安林コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_030     | コードリスト「保安林コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_031     | コードリスト「保安林コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_032     | コードリスト「保護林コード」                                                                                                                                                             | NA                                    |
| A45     | A45\_033     | コードリスト「緑の回廊コード」                                                                                                                                                           | NA                                    |
| C28     | C28\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| C28     | C28\_003     | コードリスト「空港種別コード」                                                                                                                                                           | NA                                    |
| C28     | C28\_006     | コードリスト「設置者・管理者コード」                                                                                                                                                     | NA                                    |
| C28     | C28\_007     | コードリスト「設置者・管理者コード」                                                                                                                                                     | NA                                    |
| C28     | C28\_011     | コードリスト「定期便の有無コード」                                                                                                                                                       | NA                                    |
| G04-a   | G04a\_005    | コードリスト型（海面下=5、その他=0）                                                                                                                                                     | undersea                              |
| G04-a   | G04a\_007    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G04-a   | G04a\_009    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G04-c   | G04c\_005    | コードリスト型（海面下=5、その他=0）                                                                                                                                                     | NA                                    |
| G04-c   | G04c\_007    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G04-c   | G04c\_009    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G04-d   | G04d\_005    | コードリスト型（海面下=5、その他=0）                                                                                                                                                     | undersea                              |
| G04-d   | G04d\_007    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G04-d   | G04d\_009    | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       | direction                             |
| G08     | G08\_003     | 参照資料コード                                                                                                                                                                           | NA                                    |
| L03-b-c | L03b\_c\_002 | コードリスト「土地利用種別」 ・都市地域： 土地利用種別(平成21、26、28年度） ・都市地域外： 土地利用種別(平成21、26、28年度）                                                             | NA                                    |
| L05     | L05\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| L05     | L05\_005     | コードリスト「臨海・内陸区分コード」                                                                                                                                                     | NA                                    |
| L05     | L05\_013     | コードリスト「用途地域コード」                                                                                                                                                           | NA                                    |
| N02     | N02\_001     | コードリスト「鉄道区分コード」                                                                                                                                                           | NA                                    |
| N02     | N02\_002     | コードリスト「事業者種別コード」                                                                                                                                                         | NA                                    |
| N03     | N03\_007     | コードリスト「 行政コード 」                                                                                                                                                             | AdminAreaCd                           |
| N05     | N05\_001     | コードリスト「事業者種別コード」                                                                                                                                                         | NA                                    |
| N05     | N05\_007     | コードリスト「変遷IDコード」                                                                                                                                                             | NA                                    |
| N06     | N06\_005     | コードリスト「変遷IDコード」                                                                                                                                                             | NA                                    |
| N06     | N06\_008     | コードリスト「路線種別コード」                                                                                                                                                           | NA                                    |
| N06     | N06\_009     | コードリスト「供用状況コード」                                                                                                                                                           | NA                                    |
| N06     | N06\_016     | コードリスト「変遷IDコード」                                                                                                                                                             | NA                                    |
| N06     | N06\_019     | コードリスト「接合部種別コード」                                                                                                                                                         | NA                                    |
| N07     | N07\_001     | コードリスト「バス区分コード」                                                                                                                                                           | NA                                    |
| N08     | N08\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| N08     | N08\_002     | コードリスト「空港種別コード」                                                                                                                                                           | NA                                    |
| N08     | N08\_004     | コードリスト「設置者・管理者コード」                                                                                                                                                     | NA                                    |
| N08     | N08\_005     | コードリスト「設置者・管理者コード」                                                                                                                                                     | NA                                    |
| N08     | N08\_010     | コードリスト「定期便コード」                                                                                                                                                             | NA                                    |
| N08     | N08\_011     | コードリスト「ジェット化コード」                                                                                                                                                         | NA                                    |
| N08     | N08\_013     | コードリスト「供用状況コード」                                                                                                                                                           | NA                                    |
| N08     | N08\_017     | コードリスト「変遷IDコード」                                                                                                                                                             | NA                                    |
| N08     | N08\_021     | コードリスト「供用状況コード」                                                                                                                                                           | NA                                    |
| N10     | N10\_001     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| N10     | N10\_002     | コードリスト「緊急輸送道路区分コード」                                                                                                                                                   | NA                                    |
| N10     | N10\_003     | コードリスト「道路種別コード」                                                                                                                                                           | NA                                    |
| N11     | N11\_002     | コードリスト「航空法分類コード」                                                                                                                                                         | NA                                    |
| N11     | N11\_004     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| P04     | P04\_001     | コードリスト「医療機関分類コード」                                                                                                                                                       | NA                                    |
| P04     | P04\_007     | コードリスト「開設者分類コード」                                                                                                                                                         | NA                                    |
| P13     | P13\_004     | コードリスト「公園種別コード」                                                                                                                                                           | NA                                    |
| P13     | P13\_009     | コードリスト「都市計画決定コード」（０＝未確認、１＝決定、２＝未決定）                                                                                                                   | urban\_planning\_decided              |
| P14     | P14\_004     | コードリスト「公共施設大分類コード」                                                                                                                                                     | NA                                    |
| P14     | P14\_005     | コードリスト「公共施設小分類コード」                                                                                                                                                     | NA                                    |
| P14     | P14\_006     | コードリスト「福祉施設細分類コード」                                                                                                                                                     | NA                                    |
| P14     | P14\_008     | コードリスト「管理者コード」の第2.0版を参照                                                                                                                                              | NA                                    |
| P15     | P15\_003     | コードリスト「施設種別コード」                                                                                                                                                           | NA                                    |
| P15     | P15\_017     | 産廃施設コード中間処理施設=1、最終処理施設=2                                                                                                                                             | industrial\_waste\_disposal           |
| P15     | P15\_018     | 特別管理コード特別管理産業廃棄物処理以外=0、特別管理産業廃棄物処理=1                                                                                                                     | industrial\_waste\_special\_treatment |
| P16     | P16\_002     | 数値型（Decimal）コードリスト「主体コードリスト」                                                                                                                                        | NA                                    |
| P17     | P17\_002     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P17     | P17\_003     | コードリスト「種別コード」消防本部=1、消防署=2、分署・出張所=3                                                                                                                           | firehouse\_type                       |
| P18     | P18\_002     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P18     | P18\_003     | コードリスト「種別コード」                                                                                                                                                               | NA                                    |
| P19     | P19\_002     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| P19     | P19\_004     | コードリスト「類型コード」                                                                                                                                                               | NA                                    |
| P19     | P19\_006     | コードリスト「自然景観資源分類コード」                                                                                                                                                   | NA                                    |
| P20     | P20\_001     | コードリスト型（行政区域コード）                                                                                                                                                         | CodeOfZone\_h27                       |
| P21     | P21A\_003    | コードリスト型（種別コード）上水道=1、簡易水道（公営）=2、簡易水道（非公営）=3                                                                                                           | water\_supply\_type                   |
| P24     | P24\_002     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P24     | P24\_011     | コードリスト1:グリーン・ツーリズムデータベース2:農業協同組合名鑑3:全国市民農園リスト                                                                                                     | refereced\_from\_agri                 |
| P26     | P26\_003     | コードリスト型「行政コード」                                                                                                                                                             | AdminAreaCd                           |
| P26     | P26\_009     | コードリスト型「事業手法コード」                                                                                                                                                         | NA                                    |
| P27     | P27\_001     | コードリスト型「行政コード」                                                                                                                                                             | AdminAreaCd                           |
| P27     | P27\_002     | コードリスト型「公共施設大分類コード」                                                                                                                                                   | NA                                    |
| P27     | P27\_003     | コードリスト型「公共施設小分類コード」                                                                                                                                                   | NA                                    |
| P27     | P27\_004     | コードリスト型「文化施設分類コード」                                                                                                                                                     | NA                                    |
| P27     | P27\_007     | コードリスト型「管理者コード」                                                                                                                                                           | NA                                    |
| P28     | P28\_001     | コードリスト型「行政コード」                                                                                                                                                             | AdminAreaCd                           |
| P28     | P28\_002     | コードリスト型「公共施設大分類コード」                                                                                                                                                   | NA                                    |
| P28     | P28\_003     | コードリスト型「公共施設小分類コード」                                                                                                                                                   | NA                                    |
| P28     | P28\_004     | コードリスト型「国・都道府県の機関分類コード」                                                                                                                                           | NA                                    |
| P28     | P28\_007     | コードリスト型「管理者コード」                                                                                                                                                           | NA                                    |
| P29     | P29\_001     | コードリスト型「行政コード」                                                                                                                                                             | AdminAreaCd                           |
| P29     | P29\_002     | コードリスト型「公共施設大分類コード」                                                                                                                                                   | NA                                    |
| P29     | P29\_003     | コードリスト型「公共施設小分類コード」                                                                                                                                                   | NA                                    |
| P29     | P29\_004     | コードリスト型「学校分類コード」                                                                                                                                                         | NA                                    |
| P29     | P29\_007     | コードリスト型「管理者コード」                                                                                                                                                           | NA                                    |
| P30     | P30\_001     | コードリスト型「行政コード」                                                                                                                                                             | AdminAreaCd                           |
| P30     | P30\_002     | コードリスト型「公共施設大分類コード」                                                                                                                                                   | NA                                    |
| P30     | P30\_003     | コードリスト型「公共施設小分類コード」                                                                                                                                                   | NA                                    |
| P30     | P30\_004     | コードリスト型「郵便局分類コード」                                                                                                                                                       | NA                                    |
| P30     | P30\_007     | コードリスト型「管理者コード」                                                                                                                                                           | NA                                    |
| P31     | P31\_002     | コードリスト「種別コード」                                                                                                                                                               | NA                                    |
| P31     | P31\_003     | コードリスト「分類コード」                                                                                                                                                               | NA                                    |
| P31     | P31\_004     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| P31     | P31\_006     | コードリスト「事業者分類コード」                                                                                                                                                         | NA                                    |
| P32     | P32\_002     | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| P32     | P32\_003     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P32     | P32\_004     | コードリスト「種別大区分コード」                                                                                                                                                         | NA                                    |
| P32     | P32\_005     | コードリスト「種別小区分コード」                                                                                                                                                         | NA                                    |
| P32     | P32\_009     | コードリスト「代表点区分コード」                                                                                                                                                         | NA                                    |
| P34     | P34\_001     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P34     | P34\_002     | コードリスト「施設分類コード」                                                                                                                                                           | NA                                    |
| P35     | P35\_005     | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| S05-d   | S05d\_002    | コードリスト「貨物地域流動ゾーンコード」                                                                                                                                                 | NA                                    |
| S05-d   | S05d\_003    | コードリスト「貨物地域流動ゾーンコード」                                                                                                                                                 | NA                                    |
| S05-d   | S05d\_045    | コードリスト「旅客地域流動ゾーンコード」                                                                                                                                                 | NA                                    |
| S05-d   | S05d\_046    | コードリスト「旅客地域流動ゾーンコード」                                                                                                                                                 | NA                                    |
| S12     | S12\_004     | コードリスト（ 鉄道区分コード ）                                                                                                                                                         | NA                                    |
| S12     | S12\_005     | コードリスト（ 事業者種別コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_006     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_007     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_010     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_011     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_014     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_015     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_018     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_019     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_022     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_023     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_026     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_027     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_030     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_031     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| S12     | S12\_034     | コードリスト（ 重複コード ）                                                                                                                                                             | NA                                    |
| S12     | S12\_035     | コードリスト（ データ有無コード ）                                                                                                                                                       | NA                                    |
| W01     | W01\_005     | コードリスト「ダム形式コード」                                                                                                                                                           | NA                                    |
| W01     | W01\_006     | コードリスト「ダム目的コード」                                                                                                                                                           | NA                                    |
| W01     | W01\_011     | コードリスト「ダム事業者コード」                                                                                                                                                         | NA                                    |
| W01     | W01\_014     | コードリスト「位置情報精度コード」                                                                                                                                                       | NA                                    |
| A03     | NA           | コードリスト「行政コード」 ※海上は“99999”とする。                                                                                                                                        | AdminAreaCd                           |
| A03     | NA           | コードリスト「区域区分」 ※首都圏、中部圏、近畿圏でコードが異なる。                                                                                                                       | NA                                    |
| A03     | NA           | コードリスト「区域コード」 ※首都圏、中部圏、近畿圏でコードが異なる。                                                                                                                     | CodeOfZone\_h27                       |
| A10     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A10     | NA           | コードリスト「支庁区分コード」                                                                                                                                                           | NA                                    |
| A10     | NA           | コードリスト「自然公園地域区分コード」                                                                                                                                                   | NA                                    |
| A11     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A11     | NA           | コードリスト「支庁区分コード」                                                                                                                                                           | NA                                    |
| A11     | NA           | コードリスト「自然保全地域区分コード」                                                                                                                                                   | NA                                    |
| A12     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A12     | NA           | コードリスト「支庁区分コード」                                                                                                                                                           | NA                                    |
| A12     | NA           | コードリスト「農業地域区分コード」                                                                                                                                                       | NA                                    |
| A13     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A13     | NA           | コードリスト「支庁区分コード」                                                                                                                                                           | NA                                    |
| A13     | NA           | コードリスト「森林地域区分コード」                                                                                                                                                       | NA                                    |
| A16     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A17     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A17     | NA           | コードリスト「過疎区分コード」                                                                                                                                                           | NA                                    |
| A18     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A19     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A21     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| A21     | NA           | コードリスト「支庁区分コード」                                                                                                                                                           | NA                                    |
| A23     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A23     | NA           | コードリスト「特殊土壌区分コード」                                                                                                                                                       | NA                                    |
| A24     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A25     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| A26     | NA           | コードリスト「危険箇所種別コード」                                                                                                                                                       | NA                                    |
| A28     | NA           | コードリスト「世界自然遺産コード」                                                                                                                                                       | NA                                    |
| C02     | NA           | コードリスト「港湾種別（1）コード」                                                                                                                                                      | NA                                    |
| C02     | NA           | コードリスト「港湾種別（2）コード」                                                                                                                                                      | NA                                    |
| C02     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| C02     | NA           | コードリスト「港湾管理者区分コード」                                                                                                                                                     | NA                                    |
| C02     | NA           | コードリスト「海事機関種別コード」                                                                                                                                                       | NA                                    |
| C02     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| C02     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| C09     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| C09     | NA           | コードリスト「漁港種別コード」                                                                                                                                                           | NA                                    |
| C09     | NA           | コードリスト「漁港管理者区分コード」                                                                                                                                                     | NA                                    |
| C09     | NA           | コードリスト「都道府県コード」                                                                                                                                                           | PrefCd                                |
| C23     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| C23     | NA           | コードリスト「所管官庁コード」                                                                                                                                                           | NA                                    |
| C23     | NA           | コードリスト「海岸保全区域・海岸管理者コード」                                                                                                                                           | NA                                    |
| L01     | NA           | コードリスト「見出し番号」                                                                                                                                                               | NA                                    |
| L01     | NA           | コードリスト「見出し番号」                                                                                                                                                               | NA                                    |
| L01     | NA           | コードリスト「選定状況」                                                                                                                                                                 | NA                                    |
| L01     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| L02     | NA           | コードリスト「 見出し番号 」                                                                                                                                                             | NA                                    |
| L02     | NA           | コードリスト「 見出し番号 」                                                                                                                                                             | NA                                    |
| L02     | NA           | コードリスト「 選定状況 」                                                                                                                                                               | NA                                    |
| L02     | NA           | コードリスト 「行政コード」                                                                                                                                                              | AdminAreaCd                           |
| L03-b-u | NA           | コードリスト「土地利用種別」                                                                                                                                                             | NA                                    |
| L03-b   | NA           | コードリスト「土地利用種別」※整備年度により異なる。土地利用種別（昭和51年度） 土地利用種別（昭和62年度） 土地利用種別（平成3年度、9年度、18年度） 土地利用種別（21年度、26年度、28年度） | NA                                    |
| P02     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P02     | NA           | コードリスト「公共施設大分類コード」                                                                                                                                                     | NA                                    |
| P02     | NA           | コードリスト「公共施設小分類コード」                                                                                                                                                     | NA                                    |
| P02     | NA           | コードリスト「公共施設管理者コード」                                                                                                                                                     | NA                                    |
| P05     | NA           | コードリスト「行政コード」                                                                                                                                                               | AdminAreaCd                           |
| P05     | NA           | コードリスト「施設分類コード」                                                                                                                                                           | NA                                    |
| P07     | NA           | コードリスト「燃料店舗分類コード」                                                                                                                                                       | NA                                    |
| P11     | NA           | コードリスト「バス区分コード」                                                                                                                                                           | NA                                    |
| S05-a   | NA           | コードリスト「都市圏コード」                                                                                                                                                             | NA                                    |
| S05-a   | NA           | コードリスト「発生集中コード」                                                                                                                                                           | NA                                    |
| S05-a   | NA           | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 | NA                                    |
| S05-b   | NA           | コードリスト「都市圏コード」                                                                                                                                                             | NA                                    |
| S05-b   | NA           | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 | NA                                    |
| S05-b   | NA           | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 | NA                                    |
| S05-c   | NA           | コードリスト「東京都市圏駅コード」                                                                                                                                                       | NA                                    |
| S05-c   | NA           | コードリスト「東京都市圏駅コード」                                                                                                                                                       | NA                                    |
| S05-c   | NA           | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           | NA                                    |
| S05-c   | NA           | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           | NA                                    |
| S05-c   | NA           | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           | NA                                    |
| W05     | NA           | コードリスト「水系域コード種別」                                                                                                                                                         | NA                                    |
| W05     | NA           | コードリスト「河川コード種別」                                                                                                                                                           | NA                                    |
| W05     | NA           | コードリスト「原典資料種別コード」                                                                                                                                                       | NA                                    |

## 直接列挙してるやつ

``` r
out_dir <- here::here("data", "codelist")
dir.create(out_dir, showWarnings = FALSE)
```

### `G04a_005`, `G04a_005`, `G04d_005`

``` r
d %>% 
  filter(str_detect(type, "海面下"))
```

    ## # A tibble: 3 x 6
    ##   id    name     code   description                      type           codelist
    ##   <chr> <chr>    <chr>  <chr>                            <chr>          <lgl>   
    ## 1 G04-a 最低標高コード… G04a_… 最低標高が海面下であるかどうかの区分。※基盤地図情報の標高では… コードリスト型（海面下=5… TRUE    
    ## 2 G04-c 最低標高コード… G04c_… 最低標高が海面下であるかどうかの区分。※基盤地図情報の標高では… コードリスト型（海面下=5… TRUE    
    ## 3 G04-d 最低標高コード… G04d_… 最低標高が海面下であるかどうかの区分。※基盤地図情報の標高では… コードリスト型（海面下=5… TRUE

``` r
tibble(
  code  = c("0", "5", "unknown"),
  label = c("その他", "海面下", NA)
) %>% 
  readr::write_csv(file.path(out_dir, "undersea.csv"))
```

### `G04a_007`, `G04a_009`,`G04c_007`,`G04c_009`,`G04d_007`,`G04d_009`

``` r
d %>% 
  filter(str_detect(type, "方向なし"))
```

    ## # A tibble: 6 x 6
    ##   id    name    code   description                type                  codelist
    ##   <chr> <chr>   <chr>  <chr>                      <chr>                 <lgl>   
    ## 1 G04-a 最大傾斜方向… G04a_… 標高傾斜度5次メッシュ（250m）の標高から算出す… コードリスト型（0=方向なし、1=北、2… TRUE    
    ## 2 G04-a 最小傾斜方向… G04a_… 標高傾斜度5次メッシュ（250m）の標高から算出す… コードリスト型（0=方向なし、1=北、2… TRUE    
    ## 3 G04-c 最大傾斜方向… G04c_… 標高傾斜度5次メッシュ（250m）の標高から算出す… コードリスト型（0=方向なし、1=北、2… TRUE    
    ## 4 G04-c 最小傾斜方向… G04c_… 標高傾斜度5次メッシュ（250m）の標高から算出す… コードリスト型（0=方向なし、1=北、2… TRUE    
    ## 5 G04-d 最大傾斜方向… G04d_… 10mメッシュ標高をリサンプリングした50mメッシ… コードリスト型（0=方向なし、1=北、2… TRUE    
    ## 6 G04-d 最小傾斜方向… G04d_… 10mメッシュ標高をリサンプリングした50mメッシ… コードリスト型（0=方向なし、1=北、2… TRUE

``` r
tibble(
  code  = c(as.character(0:8), "unknown"),
  label = c("方向なし", "北", "北東", "東", "東南", "南", "南西", "西", "北西", NA)
) %>% 
  readr::write_csv(file.path(out_dir, "direction.csv"))
```

### `A15_003`

``` r
d %>% 
  filter(str_detect(type, "指定機関コード"))
```

    ## # A tibble: 1 x 6
    ##   id    name           code   description              type             codelist
    ##   <chr> <chr>          <chr>  <chr>                    <chr>            <lgl>   
    ## 1 A15   指定機関：指定機関コード… A15_0… 国指定及び県指定の区分1：国指定　2：県指定… コードリスト「指定機関コード」… TRUE

``` r
tibble(
  code  = c("1", "2"),
  label = c("国指定", "県指定")
) %>% 
  readr::write_csv(file.path(out_dir, "authority_type.csv"))
```

### `A15_004`

``` r
d %>% 
  filter(str_detect(type, "保護区分コード"))
```

    ## # A tibble: 1 x 6
    ##   id    name        code   description                     type         codelist
    ##   <chr> <chr>       <chr>  <chr>                           <chr>        <lgl>   
    ## 1 A15   保護区分：保護区分コ… A15_0… 鳥獣保護区と特別保護区域，休猟区の区別1：鳥獣保護区　2：特… コードリスト「保護区分… TRUE

``` r
tibble(
  code  = c("1", "2", "3", "4"),
  label = c("鳥獣保護区",　"特別保護地区", "休猟区", "特例休猟区")
) %>% 
  readr::write_csv(file.path(out_dir, "protection_area_type.csv"))
```

### `P13_009`

``` r
d %>% 
  filter(str_detect(type, "都市計画決定"))
```

    ## # A tibble: 1 x 6
    ##   id    name     code   description    type                             codelist
    ##   <chr> <chr>    <chr>  <chr>          <chr>                            <lgl>   
    ## 1 P13   都市計画決定… P13_0… 都市計画決定コード… コードリスト「都市計画決定コード」（０＝未確認、１＝決定、２＝… TRUE

``` r
tibble(
  code  = c("0", "1", "2"),
  label = c("未確認", "決定", "未決定")
) %>% 
  readr::write_csv(file.path(out_dir, "urban_planning_decided.csv"))
```

### `P15_017`

``` r
d %>% 
  filter(str_detect(type, "産廃施設コード"))
```

    ## # A tibble: 1 x 6
    ##   id    name       code   description   type                            codelist
    ##   <chr> <chr>      <chr>  <chr>         <chr>                           <lgl>   
    ## 1 P15   産廃施設種別… P15_0… 産廃施設コード… 産廃施設コード中間処理施設=1、最終処理施設=2… TRUE

``` r
tibble(
  code  = c("1", "2"),
  label = c("中間処理施設", "最終処理施設")
) %>% 
  readr::write_csv(file.path(out_dir, "industrial_waste_disposal.csv"))
```

### `P15_018`

``` r
d %>% 
  filter(str_detect(type, "特別管理コード"))
```

    ## # A tibble: 1 x 6
    ##   id    name    code   description  type                                codelist
    ##   <chr> <chr>   <chr>  <chr>        <chr>                               <lgl>   
    ## 1 P15   特別管理… P15_0… 特別管理コード… 特別管理コード特別管理産業廃棄物処理以外=0、特別管理産業廃棄物処理… TRUE

``` r
tibble(
  code  = c("0", "1"),
  label = c("特別管理産業廃棄物処理以外", "特別管理産業廃棄物処理")
) %>% 
  readr::write_csv(file.path(out_dir, "industrial_waste_special_treatment.csv"))
```

### `P17_003`

``` r
d %>% 
  filter(str_detect(type, "消防本部"))
```

    ## # A tibble: 1 x 6
    ##   id    name    code   description                  type                codelist
    ##   <chr> <chr>   <chr>  <chr>                        <chr>               <lgl>   
    ## 1 P17   種別コード… P17_0… 消防施設の区分。各消防本部で施設区分が異なるため、H2… コードリスト「種別コード」消防本部=… TRUE

``` r
tibble(
  code  = c("1", "2", "3"),
  label = c("消防本部", "消防署", "分署・出張所")
) %>% 
  readr::write_csv(file.path(out_dir, "firehouse_type.csv"))
```

### `P21A_003`

``` r
d %>% 
  filter(str_detect(type, "簡易水道"))
```

    ## # A tibble: 1 x 6
    ##   id    name  code   description           type                         codelist
    ##   <chr> <chr> <chr>  <chr>                 <chr>                        <lgl>   
    ## 1 P21   種別  P21A_… 当該給水区域の種別から得られた種別コード… コードリスト型（種別コード）上水道=1、簡易水道（公営… TRUE

``` r
tibble(
  code  = c("1", "2", "3"),
  label = c("上水道", "簡易水道（公営）", "簡易水道（非公営）")
) %>% 
  readr::write_csv(file.path(out_dir, "water_supply_type.csv"))
```

### `P24_011`

``` r
d %>% 
  filter(str_detect(type, "グリーン・ツーリズムデータベース"))
```

    ## # A tibble: 1 x 6
    ##   id    name    code   description       type                           codelist
    ##   <chr> <chr>   <chr>  <chr>             <chr>                          <lgl>   
    ## 1 P24   原典コード… P24_0… データの作成に使用した原典資料… コードリスト1:グリーン・ツーリズムデータベース2:農業協… TRUE

``` r
tibble(
  code  = c("1", "2", "3"),
  label = c("グリーン・ツーリズムデータベース", "農業協同組合名鑑", "全国市民農園リスト")
) %>% 
  readr::write_csv(file.path(out_dir, "refereced_from_agri.csv"))
```

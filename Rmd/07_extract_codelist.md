Extract codelist
================

``` r
library(readr)
library(stringr)
library(dplyr, warn.conflicts = FALSE)

csv_files <- c(
  list.files(here::here("data", "colnames_exact"), full.names = TRUE),
  list.files(here::here("data", "colnames_positional"), full.names = TRUE),
  list.files(here::here("data", "colnames_other"), full.names = TRUE)
)
names(csv_files) <- tools::file_path_sans_ext(basename(csv_files))

col_types <- cols(
  name = col_character(),
  code = col_character(),
  description = col_character(),
  type = col_character()
)

d <- purrr::map_dfr(csv_files, read_csv, col_types = col_types, .id = "id")
```

コードリストは、2つタイプがある。
そのページに直接列挙されているタイプと、リンク先に詳細があるタイプ。
リンク先に詳細があるタイプは、`html_table()`を使った時点で失われてしまうので、別途収集する。

``` r
d %>%
  filter(codelist) %>%
  transmute(id, str_squish(type)) %>%
  knitr::kable()
```

| id      | str\_squish(type)                                                                                                                                                                        |
|:--------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| A15     | コードリスト「都道府県コード」                                                                                                                                                           |
| A15     | コードリスト「指定機関コード」                                                                                                                                                           |
| A15     | コードリスト「保護区分コード」                                                                                                                                                           |
| A22     | コードリスト「行政コード」                                                                                                                                                               |
| A22     | コードリスト「豪雪区分コード」                                                                                                                                                           |
| A27     | コードリスト「行政コード」                                                                                                                                                               |
| A27     | コードリスト「行政コード」                                                                                                                                                               |
| A29     | コードリスト「行政コード」                                                                                                                                                               |
| A29     | コードリスト「用途地域分類コード」                                                                                                                                                       |
| A31     | コードリスト型（浸水深ランクコード）                                                                                                                                                     |
| A31     | コードリスト型（浸水深ランクコード）                                                                                                                                                     |
| A31     | コードリスト型（浸水継続時間ランクコード）                                                                                                                                               |
| A31     | コードリスト型（危険区域区分コード）                                                                                                                                                     |
| A32     | コードリスト「行政コード」                                                                                                                                                               |
| A32     | コードリスト「行政コード」                                                                                                                                                               |
| A33     | コードリスト「 現象種別コード 」                                                                                                                                                         |
| A33     | コードリスト「 区域コード 」                                                                                                                                                             |
| A33     | コードリスト「 都道府県コード 」                                                                                                                                                         |
| A33     | コードリスト「 特別警戒区域未指定コード 」                                                                                                                                               |
| A35a    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35a    | コードリスト「行政コード」                                                                                                                                                               |
| A35a    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35a    | コードリスト「行政コード」                                                                                                                                                               |
| A35a    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35a    | コードリスト「行政コード」                                                                                                                                                               |
| A35b    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35b    | コードリスト「行政コード」                                                                                                                                                               |
| A35b    | コードリスト「種別コード」                                                                                                                                                               |
| A35b    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35b    | コードリスト「行政コード」                                                                                                                                                               |
| A35b    | コードリスト「種別コード」                                                                                                                                                               |
| A35b    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35b    | コードリスト「行政コード」                                                                                                                                                               |
| A35b    | コードリスト「種別コード」                                                                                                                                                               |
| A35c    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35c    | コードリスト「行政コード」                                                                                                                                                               |
| A35c    | コードリスト「都道府県コード」                                                                                                                                                           |
| A35c    | コードリスト「行政コード」                                                                                                                                                               |
| A38     | コードリスト「行政コード」                                                                                                                                                               |
| A38     | コードリスト「設定フラグ」                                                                                                                                                               |
| A38     | コードリスト「行政コード」                                                                                                                                                               |
| A39     | 都道府県コード                                                                                                                                                                           |
| A39     | 行政コード                                                                                                                                                                               |
| A39     | 不燃領域率定義コード                                                                                                                                                                     |
| A39     | 防災再開発促進地区指定コード                                                                                                                                                             |
| A42     | コードリスト「行政コード」                                                                                                                                                               |
| A42     | コードリスト「行政コード」                                                                                                                                                               |
| A43     | コードリスト「行政コード」                                                                                                                                                               |
| A44     | コードリスト「行政コード」                                                                                                                                                               |
| A45     | コードリスト「森林管理局コード」                                                                                                                                                         |
| A45     | コードリスト「森林管理署コード」                                                                                                                                                         |
| A45     | コードリスト「小班主番コード」                                                                                                                                                           |
| A45     | コードリスト「局名称コード」                                                                                                                                                             |
| A45     | コードリスト「署名称コード」                                                                                                                                                             |
| A45     | コードリスト「樹種コード」                                                                                                                                                               |
| A45     | コードリスト「樹種コード」                                                                                                                                                               |
| A45     | コードリスト「樹種コード」                                                                                                                                                               |
| A45     | コードリスト「林種の細分コード」                                                                                                                                                         |
| A45     | コードリスト「機能類型コード」                                                                                                                                                           |
| A45     | コードリスト「保安林コード」                                                                                                                                                             |
| A45     | コードリスト「保安林コード」                                                                                                                                                             |
| A45     | コードリスト「保安林コード」                                                                                                                                                             |
| A45     | コードリスト「保安林コード」                                                                                                                                                             |
| A45     | コードリスト「保護林コード」                                                                                                                                                             |
| A45     | コードリスト「緑の回廊コード」                                                                                                                                                           |
| C28     | コードリスト「行政コード」                                                                                                                                                               |
| C28     | コードリスト「空港種別コード」                                                                                                                                                           |
| C28     | コードリスト「設置者・管理者コード」                                                                                                                                                     |
| C28     | コードリスト「設置者・管理者コード」                                                                                                                                                     |
| C28     | コードリスト「定期便の有無コード」                                                                                                                                                       |
| G04-a   | コードリスト型（海面下=5、その他=0）                                                                                                                                                     |
| G04-a   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G04-a   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G04-c   | コードリスト型（海面下=5、その他=0）                                                                                                                                                     |
| G04-c   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G04-c   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G04-d   | コードリスト型（海面下=5、その他=0）                                                                                                                                                     |
| G04-d   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G04-d   | コードリスト型（0=方向なし、1=北、2=北東、3=東、4=東南、5=南、6=南西、7=西、8=北西）※整備データが存在しない場合、“unknown”とする。                                                       |
| G08     | 参照資料コード                                                                                                                                                                           |
| L03-b-c | コードリスト「土地利用種別」 ・都市地域： 土地利用種別(平成21、26、28年度） ・都市地域外： 土地利用種別(平成21、26、28年度）                                                             |
| L05     | コードリスト「行政コード」                                                                                                                                                               |
| L05     | コードリスト「臨海・内陸区分コード」                                                                                                                                                     |
| L05     | コードリスト「用途地域コード」                                                                                                                                                           |
| N02     | コードリスト「鉄道区分コード」                                                                                                                                                           |
| N02     | コードリスト「事業者種別コード」                                                                                                                                                         |
| N03     | コードリスト「 行政コード 」                                                                                                                                                             |
| N05     | コードリスト「事業者種別コード」                                                                                                                                                         |
| N05     | コードリスト「変遷IDコード」                                                                                                                                                             |
| N06     | コードリスト「変遷IDコード」                                                                                                                                                             |
| N06     | コードリスト「路線種別コード」                                                                                                                                                           |
| N06     | コードリスト「供用状況コード」                                                                                                                                                           |
| N06     | コードリスト「変遷IDコード」                                                                                                                                                             |
| N06     | コードリスト「接合部種別コード」                                                                                                                                                         |
| N07     | コードリスト「バス区分コード」                                                                                                                                                           |
| N08     | コードリスト「行政コード」                                                                                                                                                               |
| N08     | コードリスト「空港種別コード」                                                                                                                                                           |
| N08     | コードリスト「設置者・管理者コード」                                                                                                                                                     |
| N08     | コードリスト「設置者・管理者コード」                                                                                                                                                     |
| N08     | コードリスト「定期便コード」                                                                                                                                                             |
| N08     | コードリスト「ジェット化コード」                                                                                                                                                         |
| N08     | コードリスト「供用状況コード」                                                                                                                                                           |
| N08     | コードリスト「変遷IDコード」                                                                                                                                                             |
| N08     | コードリスト「供用状況コード」                                                                                                                                                           |
| N10     | コードリスト「都道府県コード」                                                                                                                                                           |
| N10     | コードリスト「緊急輸送道路区分コード」                                                                                                                                                   |
| N10     | コードリスト「道路種別コード」                                                                                                                                                           |
| N11     | コードリスト「航空法分類コード」                                                                                                                                                         |
| N11     | コードリスト「都道府県コード」                                                                                                                                                           |
| P04     | コードリスト「医療機関分類コード」                                                                                                                                                       |
| P04     | コードリスト「開設者分類コード」                                                                                                                                                         |
| P13     | コードリスト「公園種別コード」                                                                                                                                                           |
| P13     | コードリスト「都市計画決定コード」（０＝未確認、１＝決定、２＝未決定）                                                                                                                   |
| P14     | コードリスト「公共施設大分類コード」                                                                                                                                                     |
| P14     | コードリスト「公共施設小分類コード」                                                                                                                                                     |
| P14     | コードリスト「福祉施設細分類コード」                                                                                                                                                     |
| P14     | コードリスト「管理者コード」の第2.0版を参照                                                                                                                                              |
| P15     | コードリスト「施設種別コード」                                                                                                                                                           |
| P15     | 産廃施設コード中間処理施設=1、最終処理施設=2                                                                                                                                             |
| P15     | 特別管理コード特別管理産業廃棄物処理以外=0、特別管理産業廃棄物処理=1                                                                                                                     |
| P16     | 数値型（Decimal）コードリスト「主体コードリスト」                                                                                                                                        |
| P19     | コードリスト「都道府県コード」                                                                                                                                                           |
| P19     | コードリスト「類型コード」                                                                                                                                                               |
| P19     | コードリスト「自然景観資源分類コード」                                                                                                                                                   |
| P20     | コードリスト型（行政区域コード）                                                                                                                                                         |
| P21     | コードリスト型（種別コード）上水道=1、簡易水道（公営）=2、簡易水道（非公営）=3                                                                                                           |
| P24     | コードリスト「行政コード」                                                                                                                                                               |
| P24     | コードリスト1:グリーン・ツーリズムデータベース2:農業協同組合名鑑3:全国市民農園リスト                                                                                                     |
| P26     | コードリスト型「行政コード」                                                                                                                                                             |
| P26     | コードリスト型「事業手法コード」                                                                                                                                                         |
| P27     | コードリスト型「行政コード」                                                                                                                                                             |
| P27     | コードリスト型「公共施設大分類コード」                                                                                                                                                   |
| P27     | コードリスト型「公共施設小分類コード」                                                                                                                                                   |
| P27     | コードリスト型「文化施設分類コード」                                                                                                                                                     |
| P27     | コードリスト型「管理者コード」                                                                                                                                                           |
| P28     | コードリスト型「行政コード」                                                                                                                                                             |
| P28     | コードリスト型「公共施設大分類コード」                                                                                                                                                   |
| P28     | コードリスト型「公共施設小分類コード」                                                                                                                                                   |
| P28     | コードリスト型「国・都道府県の機関分類コード」                                                                                                                                           |
| P28     | コードリスト型「管理者コード」                                                                                                                                                           |
| P29     | コードリスト型「行政コード」                                                                                                                                                             |
| P29     | コードリスト型「公共施設大分類コード」                                                                                                                                                   |
| P29     | コードリスト型「公共施設小分類コード」                                                                                                                                                   |
| P29     | コードリスト型「学校分類コード」                                                                                                                                                         |
| P29     | コードリスト型「管理者コード」                                                                                                                                                           |
| P30     | コードリスト型「行政コード」                                                                                                                                                             |
| P30     | コードリスト型「公共施設大分類コード」                                                                                                                                                   |
| P30     | コードリスト型「公共施設小分類コード」                                                                                                                                                   |
| P30     | コードリスト型「郵便局分類コード」                                                                                                                                                       |
| P30     | コードリスト型「管理者コード」                                                                                                                                                           |
| P31     | コードリスト「種別コード」                                                                                                                                                               |
| P31     | コードリスト「分類コード」                                                                                                                                                               |
| P31     | コードリスト「都道府県コード」                                                                                                                                                           |
| P31     | コードリスト「事業者分類コード」                                                                                                                                                         |
| P32     | コードリスト「都道府県コード」                                                                                                                                                           |
| P32     | コードリスト「行政コード」                                                                                                                                                               |
| P32     | コードリスト「種別大区分コード」                                                                                                                                                         |
| P32     | コードリスト「種別小区分コード」                                                                                                                                                         |
| P32     | コードリスト「代表点区分コード」                                                                                                                                                         |
| P34     | コードリスト「行政コード」                                                                                                                                                               |
| P34     | コードリスト「施設分類コード」                                                                                                                                                           |
| P35     | コードリスト「行政コード」                                                                                                                                                               |
| S05-d   | コードリスト「旅客地域流動ゾーンコード」                                                                                                                                                 |
| S05-d   | コードリスト「旅客地域流動ゾーンコード」                                                                                                                                                 |
| S05-d   | コードリスト「貨物地域流動ゾーンコード」                                                                                                                                                 |
| S05-d   | コードリスト「貨物地域流動ゾーンコード」                                                                                                                                                 |
| S12     | コードリスト（ 鉄道区分コード ）                                                                                                                                                         |
| S12     | コードリスト（ 事業者種別コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| S12     | コードリスト（ 重複コード ）                                                                                                                                                             |
| S12     | コードリスト（ データ有無コード ）                                                                                                                                                       |
| W01     | コードリスト「ダム形式コード」                                                                                                                                                           |
| W01     | コードリスト「ダム目的コード」                                                                                                                                                           |
| W01     | コードリスト「ダム事業者コード」                                                                                                                                                         |
| W01     | コードリスト「位置情報精度コード」                                                                                                                                                       |
| A03     | コードリスト「行政コード」 ※海上は“99999”とする。                                                                                                                                        |
| A03     | コードリスト「区域区分」 ※首都圏、中部圏、近畿圏でコードが異なる。                                                                                                                       |
| A03     | コードリスト「区域コード」 ※首都圏、中部圏、近畿圏でコードが異なる。                                                                                                                     |
| A10     | コードリスト「都道府県コード」                                                                                                                                                           |
| A10     | コードリスト「支庁区分コード」                                                                                                                                                           |
| A10     | コードリスト「自然公園地域区分コード」                                                                                                                                                   |
| A11     | コードリスト「都道府県コード」                                                                                                                                                           |
| A11     | コードリスト「支庁区分コード」                                                                                                                                                           |
| A11     | コードリスト「自然保全地域区分コード」                                                                                                                                                   |
| A12     | コードリスト「都道府県コード」                                                                                                                                                           |
| A12     | コードリスト「支庁区分コード」                                                                                                                                                           |
| A12     | コードリスト「農業地域区分コード」                                                                                                                                                       |
| A13     | コードリスト「都道府県コード」                                                                                                                                                           |
| A13     | コードリスト「支庁区分コード」                                                                                                                                                           |
| A13     | コードリスト「森林地域区分コード」                                                                                                                                                       |
| A16     | コードリスト「都道府県コード」                                                                                                                                                           |
| A17     | コードリスト「行政コード」                                                                                                                                                               |
| A17     | コードリスト「過疎区分コード」                                                                                                                                                           |
| A18     | コードリスト「行政コード」                                                                                                                                                               |
| A19     | コードリスト「行政コード」                                                                                                                                                               |
| A21     | コードリスト「都道府県コード」                                                                                                                                                           |
| A21     | コードリスト「支庁区分コード」                                                                                                                                                           |
| A23     | コードリスト「行政コード」                                                                                                                                                               |
| A23     | コードリスト「特殊土壌区分コード」                                                                                                                                                       |
| A24     | コードリスト「行政コード」                                                                                                                                                               |
| A25     | コードリスト「行政コード」                                                                                                                                                               |
| A26     | コードリスト「危険箇所種別コード」                                                                                                                                                       |
| A28     | コードリスト「世界自然遺産コード」                                                                                                                                                       |
| C02     | コードリスト「港湾種別（1）コード」                                                                                                                                                      |
| C02     | コードリスト「港湾種別（2）コード」                                                                                                                                                      |
| C02     | コードリスト「行政コード」                                                                                                                                                               |
| C02     | コードリスト「港湾管理者区分コード」                                                                                                                                                     |
| C02     | コードリスト「海事機関種別コード」                                                                                                                                                       |
| C02     | コードリスト「都道府県コード」                                                                                                                                                           |
| C02     | コードリスト「都道府県コード」                                                                                                                                                           |
| C09     | コードリスト「行政コード」                                                                                                                                                               |
| C09     | コードリスト「漁港種別コード」                                                                                                                                                           |
| C09     | コードリスト「漁港管理者区分コード」                                                                                                                                                     |
| C09     | コードリスト「都道府県コード」                                                                                                                                                           |
| C23     | コードリスト「行政コード」                                                                                                                                                               |
| C23     | コードリスト「所管官庁コード」                                                                                                                                                           |
| C23     | コードリスト「海岸保全区域・海岸管理者コード」                                                                                                                                           |
| L01     | コードリスト「見出し番号」                                                                                                                                                               |
| L01     | コードリスト「見出し番号」                                                                                                                                                               |
| L01     | コードリスト「選定状況」                                                                                                                                                                 |
| L01     | コードリスト「行政コード」                                                                                                                                                               |
| L02     | コードリスト「 見出し番号 」                                                                                                                                                             |
| L02     | コードリスト「 見出し番号 」                                                                                                                                                             |
| L02     | コードリスト「 選定状況 」                                                                                                                                                               |
| L02     | コードリスト 「行政コード」                                                                                                                                                              |
| L03-b-u | コードリスト「土地利用種別」                                                                                                                                                             |
| L03-b   | コードリスト「土地利用種別」※整備年度により異なる。土地利用種別（昭和51年度） 土地利用種別（昭和62年度） 土地利用種別（平成3年度、9年度、18年度） 土地利用種別（21年度、26年度、28年度） |
| P02     | コードリスト「行政コード」                                                                                                                                                               |
| P02     | コードリスト「公共施設大分類コード」                                                                                                                                                     |
| P02     | コードリスト「公共施設小分類コード」                                                                                                                                                     |
| P02     | コードリスト「公共施設管理者コード」                                                                                                                                                     |
| P05     | コードリスト「行政コード」                                                                                                                                                               |
| P05     | コードリスト「施設分類コード」                                                                                                                                                           |
| P07     | コードリスト「燃料店舗分類コード」                                                                                                                                                       |
| P11     | コードリスト「バス区分コード」                                                                                                                                                           |
| S05-a   | コードリスト「都市圏コード」                                                                                                                                                             |
| S05-a   | コードリスト「発生集中コード」                                                                                                                                                           |
| S05-a   | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 |
| S05-b   | コードリスト「都市圏コード」                                                                                                                                                             |
| S05-b   | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 |
| S05-b   | コードリスト「東京都市圏ゾーンコード」「近畿圏H12年度ゾーンコード」「近畿圏H22年度ゾーンコード」「中京都市圏H13年度ゾーンコード」「H23年度ゾーンコード」                                 |
| S05-c   | コードリスト「東京都市圏駅コード」                                                                                                                                                       |
| S05-c   | コードリスト「東京都市圏駅コード」                                                                                                                                                       |
| S05-c   | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           |
| S05-c   | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           |
| S05-c   | コードリスト「近畿圏H12年度駅コード」「近畿圏H22年度駅コード」                                                                                                                           |
| W05     | コードリスト「水系域コード種別」                                                                                                                                                         |
| W05     | コードリスト「河川コード種別」                                                                                                                                                           |
| W05     | コードリスト「原典資料種別コード」                                                                                                                                                       |
| A22-m   | コードリスト「位置特定レベル」                                                                                                                                                           |
| A22-m   | コードリスト「集計単位フラグ」                                                                                                                                                           |
| A22-m   | コードリスト「集計単位フラグ」                                                                                                                                                           |
| A22-m   | コードリスト「位置特定レベル」                                                                                                                                                           |
| A37     | コードリスト「行政コード」                                                                                                                                                               |
| A37     | コードリスト「集計単位フラグ」                                                                                                                                                           |
| P17     | コードリスト「行政コード」                                                                                                                                                               |
| P17     | コードリスト「種別コード」消防本部=1、消防署=2、分署・出張所=3                                                                                                                           |
| P18     | コードリスト「行政コード」                                                                                                                                                               |
| P18     | コードリスト「種別コード」                                                                                                                                                               |
